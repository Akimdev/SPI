<!-- 
 -- Author Kenza ABOUAKIL
 -- Détails d'une promotion
 -->
<div class="page" ng-controller="EcDetailsController">
	<div class="panel panel-default ens-edit">
		<div class="panel-heading">

			<strong><span class="glyphicon glyphicon-th"></span> Element Constitutif</strong>

		</div>
		<div class="panel-body">
<!-- consultation -->
			<div class="media animate" ng-hide="edit">
				<button class="btn btn-warning pull-right" ng-click="edition()">
					<span class="glyphicon glyphicon-pencil"></span> Editer
				</button>
				<div class="media-body">
					<ul class="list-unstyled list-info">
						<li><label>Code EC</label> {{ec.elementConstitutifPK.codeEc}}<br /></li>
						<li><label>Code UE</label> {{ec.elementConstitutifPK.codeUe}}</li>
						<li><label>Code Formation</label> {{ec.elementConstitutifPK.codeFormation}}</li>
						<li><label>Responsable</label>{{ec.noEnseignant.prenom}} {{ec.noEnseignant.nom}} </li>
						<li><label>Designation</label>{{ec.designation}}</li>
						<li><label>Description</label>{{ec.description}}</li>
						<li><label>Nombre d'heur CM</label> {{ec.nbhCm}}</li>
						<li><label>Nombre d'heur TD</label> {{ec.nbhTd}}</li>
						<li><label>Nombre d'heur TP</label> {{ec.nbhTp}}</li>
					</ul>
				</div>
				<a class="btn btn-primary" href="#/admin/elementConstitutif"><span
					class="glyphicon glyphicon-arrow-left"></span> Retour</a>
			</div>

<!-- Edition -->
			<div ng-show="edit">
				<form class="form-horizontal" name="ecForm">
					<div class="form-group">
						<label for="" class="col-sm-2">Code Element Constitutif<span id="required-field">*</span></label>
						<div class="col-sm-10">
							<input  type="text" class="form-control" id="codeUE" name="codeUE" maxlength="9"
								    ng-model="ec.elementConstitutifPK.codeEc" ng-readonly="!ajout" required>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Code Formation<span id="required-field">*</span></label>
						<div class="col-sm-10">
							<select ng-show="edit" name="codeFormation" ng-model="ec.elementConstitutifPK.codeFormation" required>
								<option data-ng-repeat="fr in formations" value="{{fr.codeFormation}}" ng-selected="{{ec.elementConstitutifPK.codeFormation==fr.codeFormation}}">
								{{fr.codeFormation}}</option>
							</select>
							<span style="color:red" ng-show="ecForm.codeFormation.$dirty && ecForm.codeFormation.$invalid">
							<span ng-show="ecForm.codeFormation.$error.required">Champ obligatoire / Type invalide</span>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Description<span id="required-field">*</span></label>
						<div class="col-sm-10">
							<input type="text" class="form-control" ng-model="ec.description" name="description" maxlength="16" required>
							<span style="color:red" ng-show="ecForm.description.$dirty && ecForm.description.$invalid">
							<span ng-show="ecForm.description.$error.required">Champ obligatoire / Type invalide</span></span>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Designation<span id="required-field">*</span></label>
						<div class="col-sm-10">
							<input type="text" class="form-control" ng-model="ec.designation" required>
							<span style="color:red" ng-show="ecForm.designation.$dirty && ecForm.designation.$invalid">
							<span ng-show="ecForm.designation.$error.required">Champ obligatoire / Type invalide</span></span>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Unite Enseignement<span id="required-field">*</span></label>
						<div class="col-sm-10">
							<select ng-show="edit" name="ueOfec" ng-model="ec.elementConstitutifPK.codeUe" required>
								<option data-ng-repeat="ue in ues" value="{{ue.uniteEnseignementPK.codeUe}}" ng-selected="{{ec.elementConstitutifPK.codeUe==ue.uniteEnseignementPK.codeUe}}">{{ue.designation}}</option>
							</select>
							<input ng-hide="edit" type="text" class="form-control"
								ng-model="ue.designation"></br>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Responsable<span id="required-field">*</span></label>
						<div class="col-sm-10">
							<select ng-show="edit" name="responsable" ng-model="responsable"> 
								<option data-ng-repeat="e in enseignants" value="{{e.noEnseignant}}" >{{e.nom}} {{e.prenom}}</option>
							</select>
							<input ng-hide="edit" type="text" class="form-control"
								ng-model="responsable.nom"
								placeholder="Nom Responsable"></br>
							<input ng-hide="edit" type="text"
								class="form-control" ng-model="responsable.prenom"
								placeholder="Pr&eacute;nom Responsable">
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Nombre d'heur CM</label>
						<div class="col-sm-10">
							<input name="nbhCM" type="number" class="form-control" ng-model="ec.nbhCm" maxlength="2" required>
							<span style="color:red" ng-show="ecForm.nbhCM.$dirty && ecForm.nbhCM.$invalid">
							<span ng-show="ecForm.nbhCM.$error.required">Champ obligatoire / Type invalide</span>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Nombre d'heur TD</label>
						<div class="col-sm-10">
							<input name="nbhTD" type="number" class="form-control" ng-model="ec.nbhTd" maxlength="2" required>
							<span style="color:red" ng-show="ecForm.nbhTD.$dirty && ecForm.nbhTD.$invalid">
							<span ng-show="ecForm.nbhTD.$error.required">Champ obligatoire / Type invalide</span>
						</div>
					</div>
					<div class="form-group">
						<label for="" class="col-sm-2">Nombre d'heur TP</label>
						<div class="col-sm-10">
							<input name="nbhTP" type="number" class="form-control" ng-model="ec.nbhTp" maxlength="2" required>
							<span style="color:red" ng-show="ecForm.nbhTP.$dirty && ecForm.nbhTP.$invalid">
							<span ng-show="ecForm.nbhTP.$error.required">Champ obligatoire / Type invalide</span>
						</div>
					</div>
				</form>
				<a class="btn btn-success" ng-click="submit()" ng-disabled="ecForm.codeFormation.$dirty && ecForm.codeFormation.$invalid || ecForm.description.$dirty && ecForm.description.$invalid || 
								ecForm.designation.$dirty && ecForm.designation.$invalid || ecForm.codeUe.$dirty && ecForm.codeUe.$invalid ||ecForm.codeUe.$dirty && ecForm.codeUe.$invalid ||ecForm.codeEc.$dirty && ecForm.codeEc.$invalid || ecForm.$invalid"><span class="glyphicon glyphicon-ok"></span>
				Valider</a> <button class="btn btn-danger pull-right" ng-click="cancel()">Annuler</button>
			</div>
		</div>
	</div>
</div>
