<div class="page" ng-controller="ConfigEvaluationController">
	<div class="portlet light bordered">
		<div class="portlet-title">
			<div class="caption">
				<i class="icon-social-dribble font-red"></i> <span class="cpation-subject font-red bold uppercase">évaluation</span>
			</div>
		</div>
		<div class="portlet-body">
			<div class="portlet box blue">
				<div class="portlet-title">
					<div class="caption">Informations générales</div>
					<div class="tools">
						<a href="javascript:;" class="collapse"></a>
					</div>
				</div>
				<div class="portlet-body form">
					<form class="form-horizontal" role="form">
						<div class="form-body">
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Désignation :</label>
										<div class="col-md-9">
											<p class="form-control-static">{{eval.designation}}</p>
										</div>
									</div>
								</div>
								<!--/span-->
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Formation :</label>
										<div class="col-md-9">
											<p class="form-control-static">{{eval.code_formation}}</p>
										</div>
									</div>
								</div>
								<!--/span-->
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Année universitaire :</label>
										<div class="col-md-9">
											<p class="form-control-static">{{eval.annee}}</p>
										</div>
									</div>
								</div>
								<!--/span-->
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Période :</label>
										<div class="col-md-9">
											<p class="form-control-static">{{eval.periode}}</p>
										</div>
									</div>
								</div>
								<!--/span-->
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Unité enseignement :</label>
										<div class="col-md-9">
											<p class="form-control-static">{{eval.code_ue}}</p>
										</div>
									</div>
								</div>
								<!--/span-->
								<div class="col-md-6" ng-show="eval.codeEc">
									<div class="form-group">
										<label class="control-label col-md-3">Elément constitutif :</label>
										<div class="col-md-9">
											<p class="form-control-static">{{eval.codeEc}}</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!------------------------------------------  -->
		<hr />
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<span class="cpation-subject font-red bold uppercase">Configurer évaluation</span>
				</div>
			</div>
			<div class="portlet-body">
				<table class="table configEval">
					<thead>
						<tr>
							<td colspan="4" style="border: 0px !important;">
								<button type="button" ng-click="" data-toggle="modal" data-target="#modalRubriques" class="btn green btn-outline sbold uppercase pull-right">
									<span class="glyphicon glyphicon-plus"></span> Rubrique
								</button>
							</td>
						</tr>
					</thead>
					<tbody ng-repeat="rub in rubriques">
						<tr class="success">
							<td colspan="3" class="sbold uppercase"><i class="icon-tag" style="margin-right: 10px;"></i><b> {{rub.designation}}</b></td>
							<td>
								<button type="button" ng-click="addQuestion(rub.idRubrique)" data-toggle="modal" data-target="#questionModal" class="btn green btn-outline sbold uppercase plusQues">
									<span class="glyphicon glyphicon-plus"></span> Question
								</button>
								<button type="button" ng-click="removeRubrique(rub.idRubrique)" class="btn red btn-outline sbold uppercase plusQues">
									<span class="glyphicon glyphicon-remove"></span> Rubrique
								</button>
							</td>
						</tr>
						<tr id="" ng-repeat="ques in rub.questions">
							<td><span><i class="icon-question" style="margin-right: 10px;"></i></span> {{ques.intitule}}</td>
							<td>{{ques.idQualificatif.minimal}}</td>
							<td>{{ques.idQualificatif.maximal}}</td>
							<td><span ng-click="removeQuestion(rub.idRubrique, ques.idQuestion)" class="fa fa-remove pull-right" style="color: red; cursor: pointer;"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<a class="btn btn-primary" ng-click="cancel()"><span class="glyphicon glyphicon-arrow-left"></span> Retour</a>
		<a class="btn btn-success pull-right" ng-click="submit()"><span class="glyphicon glyphicon-ok"></span> Valider</a>
	</div>
	
	<!--------------------Modal Ajouter Rubrique------------------->
	   <!-- Modal -->
	  <div class="modal fade draggable-modal ui-draggable in" id="modalRubriques" tabindex="-1" aria-hidden="true" role="basic">
	    <div class="modal-dialog modal-sm" style="width: 600px;">
	      <div class="modal-content" >
               <div class="modal-header ui-draggable-handle">
                   <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                   <h4 class="modal-title">Rubriques Standards</h4>
               </div>
               <div class="modal-body">
                   <form action="#" class="form-horizontal" role="form">
                       <div class="form-group">
                           <div class="col-md-12">
                               <table class="table table-hover">
                              	<thead>
                             		<tr><td class="uppercase sbold"><b>Selectionner une rubrique :</b></td></tr>
                              	</thead>
                               	<tbody>
                               		<tr ng-repeat="rub in rubriquesOptions">
                               			<td>{{rub.designation}}</td>
                               			<td>
                               				<div class="md-checkbox pull-right">
												<input type="checkbox" id="{{'rub'+rub.idRubrique}}" value="rub.idRubrique" 
														class="md-check" ng-model="rubriquesSelected[rub.idRubrique]" 
														ng-disabled="checkIfSelected(rub.idRubrique)">
												<label for="{{'rub'+rub.idRubrique}}"><span class="inc"></span> <span class="check"></span><span class="box"></span></label>
											</div>
										</td>
                               		</tr>
                             	</tbody>
                               </table>
                           </div>
                       </div>
                   </form>
               </div>
               <div class="modal-footer">
                   <button class="btn default" data-dismiss="modal" aria-hidden="true">Fermer</button>
                   <button class="btn green" data-dismiss="modal" ng-click="addRubrique()">Ajouter</button>
               </div>
           </div>
	    </div>
	  </div>
  
  <!--------------------Modal Ajouter Question------------------->
   <!-- Modal -->
  <div class="modal fade draggable-modal ui-draggable in" id="questionModal" tabindex="-1" aria-hidden="true" role="basic">
    <div class="modal-dialog modal-sm" style="width: 600px;">
      <div class="modal-content" >
            <div class="modal-header ui-draggable-handle">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">Questions Standars</h4>
            </div>
            <div class="modal-body">
                <form action="#" class="form-horizontal" role="form">
                    <div class="form-group">
                        <div class="col-md-12">
                              	<div class="portlet box red">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="fa fa-cogs"></i>Question</div>
                                    <div class="actions">
                                    </div>
                                </div>
                                <div class="portlet-body">
                                    <div id="sample_3_wrapper" class="dataTables_wrapper no-footer"><div class="row"><div class="col-md-6 col-sm-6"><div class="dataTables_length" id="sample_3_length"><label>Show <select name="sample_3_length" aria-controls="sample_3" class="form-control input-sm input-xsmall input-inline"><option value="6">6</option><option value="15">15</option><option value="20">20</option><option value="-1">All</option></select></label></div></div><div class="col-md-6 col-sm-6"><div id="sample_3_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm input-small input-inline" placeholder="" aria-controls="sample_3"></label></div></div></div><div class="table-scrollable"><table class="table table-striped table-bordered table-hover table-checkable order-column dataTable no-footer" id="sample_3" role="grid" aria-describedby="sample_3_info">
                                        <tbody>
                               		<tr ng-repeat="ques in questionsOptions">
                               			<td>{{ques.intitule}}</td>
                               			<td>
                               				<div class="md-checkbox pull-right">
												<input type="checkbox" id="{{'ques'+ques.idQuestion}}" value="ques.idQuestion" 
														class="md-check" ng-model="questionsSelected[ques.idQuestion]" 
														ng-disabled="checkQuesIfSelected(ques.idQuestion)">
												<label for="{{'ques'+ques.idQuestion}}"><span class="inc"></span> <span class="check"></span><span class="box"></span></label>
											</div>
										</td>
                               		</tr>
                             	</tbody>
                                    </table></div><div class="row"><div class="col-md-5 col-sm-5"><div class="dataTables_info" id="sample_3_info" role="status" aria-live="polite">Showing 1 to 6 of 12 records</div></div><div class="col-md-7 col-sm-7"><div class="dataTables_paginate paging_bootstrap_number" id="sample_3_paginate"><ul class="pagination" style="visibility: visible;"><li class="prev disabled"><a href="#" title="Prev"><i class="fa fa-angle-left"></i></a></li><li class="active"><a href="#">1</a></li><li><a href="#">2</a></li><li class="next"><a href="#" title="Next"><i class="fa fa-angle-right"></i></a></li></ul></div></div></div></div>
                                </div>
								</div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn default" data-dismiss="modal" aria-hidden="true">Fermer</button>
                <button class="btn green" data-dismiss="modal" ng-click="addQuestions()">Ajouter</button>
            </div>
            
        </div>
    </div>
  </div>
</div>