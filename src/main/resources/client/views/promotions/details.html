<!-- @Author Zouhair -->
<!-- 
 -- Author Kenza ABOUAKIL
 -- Détails d'une promotion
 -->
<div class="page" ng-controller="PromotionDetailsController">
	<div class="portlet light bordered">
		<div class="portlet-title">
			<div class="caption">
				<i class="icon-social-dribble font-red"></i> <span
					class="cpation-subject font-red bold uppercase">Promotion</span>
			</div>
		</div>
		<!--------------------------- Consultation --------------------------->
		<div class="portlet-body form" ng-hide="edit">
			<button class="btn btn-warning pull-right" ng-click="edition()">
				<span class="glyphicon glyphicon-pencil"></span> Editer
			</button>
			<form class="form-horizontal form-bordered">
				<div class="form-group">
					<div class="col-md-3">
						<strong>Ann&eacute;e universitaire</strong>
					</div>
					<div class="col-md-3">{{promotion.promotionPK.anneeUniversitaire}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Code formation</strong>
					</div>
					<div class="col-md-3">{{promotion.promotionPK.codeFormation}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Sigle</strong>
					</div>
					<div class="col-md-3">{{promotion.siglePromotion}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Responsable</strong>
					</div>
					<div class="col-md-3">{{responsable.nom}}
						{{responsable.prenom}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Date de rentr&eacute;e</strong>
					</div>
					<div class="col-md-3">{{promotion.dateRentree | date:
						"dd/MM/yyyy"}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Lieu de rentr&eacute;e</strong>
					</div>
					<div class="col-md-3">{{promotion.lieuRentree}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Processus de stage</strong>
					</div>
					<div class="col-md-3">{{promotion.processusStage}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Commentaire</strong>
					</div>
					<div class="col-md-3">{{promotion.commentaire}}</div>
				</div>
				<div class="form-group">
					<div class="col-md-3">
						<strong>Nombre max d'&eacute;tudiants</strong>
					</div>
					<div class="col-md-3">{{promotion.nbMaxEtudiant}}</div>
				</div>
			</form>
			</br> <a class="btn btn-primary" href="#/promotions"><span
				class="glyphicon glyphicon-arrow-left"></span> Retour</a>
		</div>
		</br>
		</br>
		<!--------------------------- Edition ------------------------- -->
		<div class="media animate" ng-hide="edit">
		<div class="row">
			<div class="col-md-6" ng-show="promotion.etudiantCollection.length">
				<div class="panel-body table-responsive">
					<span class="cpation-subject font-blue bold uppercase">Etudiants</span>
					</br>
					<table class="table">
						<thead>
							<tr>
								<th>Num &eacute;tudiant</th>
								<th>Nom</th>
								<th>Pr&eacute;nom</th>
								<th>E-mail</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="e in promotion.etudiantCollection">
								<td>{{e.noEtudiant}}</td>
								<td>{{e.nom}}</td>
								<td>{{e.prenom}}</td>
								<td>{{e.emailUbo}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<a class="btn btn-primary" href="#/promotions"><span
			class="glyphicon glyphicon-arrow-left"></span> Retour</a>
	</div>

	<!--------------------------- Edition --------------------------->
	<div ng-show="edit">
		<form class="form-horizontal">
			<div class="form-group">
				<label for="" class="col-sm-2">Ann&eacute;e universitaire<span
					id="required-field">*</span></label>
				<div class="col-sm-10">
					<input type="text" class="form-control"
						ng-model="promotion.promotionPK.anneeUniversitaire"
						ng-readonly="!ajout">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Code formation<span
					id="required-field">*</span></label>
				<div class="col-sm-10">
					<select ng-show="ajout" ng-model="formationSelected">
						<option data-ng-repeat="f in formations"
							value="{{f.codeFormation}}">{{f.codeFormation}}</option>
					</select> <input ng-hide="ajout" type="text" class="form-control"
						ng-model="promotion.promotionPK.codeFormation" ng-readonly="true">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Sigle<span
					id="required-field">*</span></label>
				<div class="col-sm-10">
					<input type="text" class="form-control"
						ng-model="promotion.siglePromotion" required>
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Responsable</label>
				<div class="col-sm-10">
					<select ng-show="edit" name="listeEnseignants"
						ng-model="enseignantSelected">
						<option data-ng-repeat="e in enseignants"
							value="{{e.noEnseignant}}"
							ng-selected="{{e.noEnseignant == responsable.noEnseignant}}">{{e.noEnseignant}}.
							{{e.nom}} {{e.prenom}}</option>
					</select> <input ng-hide="edit" type="text" class="form-control"
						ng-model="enseignants.nom" placeholder="Nom Responsable"></br>
					<input ng-hide="edit" type="text" class="form-control"
						ng-model="enseignants.prenom"
						placeholder="Pr&eacute;nom Responsable">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Date de rentr&eacute;e</label>
				<div class="col-sm-10">
					<input type="text" class="form-control"
						ng-model="promotion.dateRentree">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Lieu de rentr&eacute;e</label>
				<div class="col-sm-10">
					<input type="text" class="form-control"
						ng-model="promotion.lieuRentree">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Processus de stage</label>
				<div class="col-sm-10">
					<input type="text" class="form-control"
						ng-model="promotion.processusStage">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Commentaire</label>
				<div class="col-sm-10">
					<input type="text" class="form-control"
						ng-model="promotion.commentaire">
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-2">Nombre max d'&eacute;tudiants<span
					id="required-field">*</span></label>
				<div class="col-sm-10">
					<input type="number" class="form-control"
						ng-model="promotion.nbMaxEtudiant" required>
				</div>
			</div>
		</form>
		<a class="btn btn-success" ng-click="submit()"><span
			class="glyphicon glyphicon-ok"></span> Valider</a>
		<button class="btn btn-danger pull-right" ng-click="cancel()">Annuler</button>
	</div>
</div>
</div>
</div>
